import numpy as np  # Подключаем библиотеку для работы с числами и данными
import matplotlib.pyplot as plt  # Подключаем библиотеку для создания графиков
import statistics  # Подключаем библиотеку для работы со статистикой

# Функция для вычисления основных статистических характеристик выборки
def calculate_statistics(data):
    mean = np.mean(data)  # Среднее значение чисел в выборке
    std_dev = np.std(data)  # Стандартное отклонение чисел в выборке
    median = np.median(data)  # Середина выборки (число, которое стоит посередине)
    data_range = np.ptp(data)  # Разница между самым большим и самым маленьким числом в выборке
    return mean, std_dev, median, data_range

# Генерация случайной выборки от 250 до 500 чисел
sample_size = np.random.randint(250, 501)  # Создание случайного размера выборки
data_sample = np.random.randn(sample_size)  # Создание случайных чисел для выборки

# Вычисление основных статистических характеристик выборки
mean, std_dev, median, data_range = calculate_statistics(data_sample)

# Визуализация выборки на графике
plt.figure(figsize=(8, 6))  # Устанавливаем размеры графика
plt.scatter(range(len(data_sample)), data_sample, alpha=0.5, label='Выборка')  # Разброс значений выборки на графике
plt.axhline(mean, color='red', linestyle='--', label='Среднее')  # Линия, показывающая среднее значение
plt.axhline(mean + std_dev, color='green', linestyle='--', label='Среднее + Станд. откл.')  # Линия, показывающая среднее плюс стандартное отклонение
plt.axhline(mean - std_dev, color='green', linestyle='--', label='Среднее - Станд. откл.')  # Линия, показывающая среднее минус стандартное отклонение
plt.title('График разброса выборки и ее статистических характеристик')  # Заголовок графика
plt.xlabel('Номер элемента')  # Подпись оси X
plt.ylabel('Значение')  # Подпись оси Y
plt.legend()  # Показываем легенду
plt.show()  # Показываем график

# Вывод основных статистических характеристик на экран
print(f'Среднее значение: {mean}')  # Выводим среднее значение на экран
print(f'Стандартное отклонение: {std_dev}')  # Выводим стандартное отклонение на экран
print(f'Медиана: {median}')  # Выводим медиану на экран
print(f'Размах: {data_range}')  # Выводим размах на экран
